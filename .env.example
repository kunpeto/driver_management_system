# ============================================================
# 司機員管理系統 - 環境變數範本
# ============================================================
# 使用方式：
# 1. 複製此檔案為 .env（cp .env.example .env）
# 2. 填入實際的密碼、憑證、金鑰等敏感資訊
# 3. 確保 .env 已加入 .gitignore（禁止提交到 Git）
# ============================================================

# ------------------------------------------------------------
# TiDB 資料庫連線
# ------------------------------------------------------------
TIDB_HOST=gateway01.ap-northeast-1.prod.aws.tidbcloud.com
TIDB_PORT=4000
TIDB_USER=3SQWVrWh5DieHsr.root
TIDB_PASSWORD=your_password_here
TIDB_DATABASE=test

# ------------------------------------------------------------
# FastAPI 設定
# ------------------------------------------------------------
# JWT 簽名金鑰（使用隨機長字串，建議至少 32 字元）
# 產生方式：python -c "import secrets; print(secrets.token_urlsafe(32))"
API_SECRET_KEY=your_random_secret_key_here

# 環境模式：development / production
API_ENVIRONMENT=development

# ------------------------------------------------------------
# Google Sheets 服務帳戶憑證（Base64 編碼）
# ------------------------------------------------------------
# 說明：
# 1. 服務帳戶用於自動同步 Google Sheets（班表、勤務表）
# 2. 必須將 JSON 憑證檔案進行 Base64 編碼後存入
# 3. 權限範圍：https://www.googleapis.com/auth/spreadsheets.readonly
#
# 編碼方式（Linux/macOS）：
#   base64 -w 0 tanhae-service-account.json
#
# 編碼方式（Windows PowerShell）：
#   [Convert]::ToBase64String([IO.File]::ReadAllBytes("tanhae-service-account.json"))
#
# 編碼方式（Python）：
#   import base64
#   with open("tanhae-service-account.json", "rb") as f:
#       print(base64.b64encode(f.read()).decode())

TANHAE_GOOGLE_SERVICE_ACCOUNT_JSON=your_base64_encoded_json_here
ANPING_GOOGLE_SERVICE_ACCOUNT_JSON=your_base64_encoded_json_here

# ------------------------------------------------------------
# Google Sheets ID 配置
# ------------------------------------------------------------
# 淡海班表與勤務表
TANHAE_GOOGLE_SHEETS_ID_SCHEDULE=your_sheets_id_here
TANHAE_GOOGLE_SHEETS_ID_DUTY=your_sheets_id_here

# 安坑班表與勤務表
ANPING_GOOGLE_SHEETS_ID_SCHEDULE=your_sheets_id_here
ANPING_GOOGLE_SHEETS_ID_DUTY=your_sheets_id_here

# ------------------------------------------------------------
# Google Drive 資料夾 ID 配置
# ------------------------------------------------------------
# 淡海 Drive 資料夾（四種文件類型）
TANHAE_GOOGLE_DRIVE_FOLDER_ID_TYPE1=your_folder_id_here
TANHAE_GOOGLE_DRIVE_FOLDER_ID_TYPE2=your_folder_id_here
TANHAE_GOOGLE_DRIVE_FOLDER_ID_TYPE3=your_folder_id_here
TANHAE_GOOGLE_DRIVE_FOLDER_ID_TYPE4=your_folder_id_here

# 安坑 Drive 資料夾（四種文件類型）
ANPING_GOOGLE_DRIVE_FOLDER_ID_TYPE1=your_folder_id_here
ANPING_GOOGLE_DRIVE_FOLDER_ID_TYPE2=your_folder_id_here
ANPING_GOOGLE_DRIVE_FOLDER_ID_TYPE3=your_folder_id_here
ANPING_GOOGLE_DRIVE_FOLDER_ID_TYPE4=your_folder_id_here

# ------------------------------------------------------------
# Google OAuth 2.0 憑證（用於 Google Drive 上傳）
# ------------------------------------------------------------
# 說明：
# 1. OAuth 用於使用者授權上傳檔案到 Google Drive
# 2. 需在 Google Cloud Console 建立 OAuth 2.0 Client ID
# 3. 權限範圍：https://www.googleapis.com/auth/drive.file
# 4. refresh_token 與 access_token 儲存於資料庫加密欄位（不存環境變數）

GOOGLE_OAUTH_CLIENT_ID=your-app-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your_client_secret_here

# OAuth 重定向 URI（生產環境）
GOOGLE_OAUTH_REDIRECT_URI=https://your-app.onrender.com/api/auth/google/callback

# OAuth 重定向 URI（開發環境）
# GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# ------------------------------------------------------------
# 加密金鑰（用於加密 OAuth refresh_token）
# ------------------------------------------------------------
# 說明：
# 1. 使用 Fernet 對稱加密演算法
# 2. 必須是 44 字元的 Base64 編碼字串
# 3. 生產環境與開發環境必須使用不同的金鑰
# 4. 金鑰洩露將導致所有加密令牌可被解密
#
# 產生方式：
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"

ENCRYPTION_KEY=your_44_character_base64_encryption_key_here

# ------------------------------------------------------------
# 郵件通知設定（可選）
# ------------------------------------------------------------
# 用於系統異常通知、同步失敗警告等
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
ADMIN_EMAIL=admin@example.com

# ------------------------------------------------------------
# UptimeRobot 監控設定
# ------------------------------------------------------------
# 用於保持 Render 免費版服務喚醒
UPTIMEROBOT_MONITOR_URL=https://your-app.onrender.com/health

# ============================================================
# 安全性檢查清單
# ============================================================
# ✅ 已將 .env 加入 .gitignore
# ✅ 已產生隨機的 API_SECRET_KEY
# ✅ 已產生隨機的 ENCRYPTION_KEY
# ✅ 已將服務帳戶 JSON 進行 Base64 編碼
# ✅ 已在 Google Cloud Console 設定 OAuth 重定向 URI
# ✅ 已為開發與生產環境分別配置獨立憑證
# ✅ 已限制服務帳戶與 OAuth 應用的權限範圍（最小權限原則）
# ============================================================
