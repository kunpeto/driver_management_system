# å¸æ©Ÿå“¡ç®¡ç†ç³»çµ±

æ–°åŒ—æ·é‹è¼•è»Œç‡Ÿé‹è™•è»Šå‹™ä¸­å¿ƒã€Œå¸æ©Ÿå“¡äº‹ä»¶å±¥æ­·èˆ‡è€ƒæ ¸ç®¡ç†ã€é§•é§›æ™‚æ•¸ç®¡ç†ç³»çµ±ã€

## å°ˆæ¡ˆç‹€æ…‹

| Phase | åç¨± | ç‹€æ…‹ | èªªæ˜ |
|-------|------|------|------|
| **Phase 0** | Setup | âœ… å®Œæˆ | å°ˆæ¡ˆåŸºç¤æ¶æ§‹èˆ‡é–‹ç™¼ç’°å¢ƒè¨­å®š |
| **Phase 2** | Foundational | âœ… å®Œæˆ | æ ¸å¿ƒåŸºç¤è¨­æ–½ã€èªè­‰ã€è³‡æ–™åº« |
| **Phase 3** | US1 - ç³»çµ±è¨­å®š | âœ… å®Œæˆ | éƒ¨é–€åƒæ•¸èˆ‡ç³»çµ±é…ç½® |
| **Phase 4** | US2 - å“¡å·¥ç®¡ç† | âœ… å®Œæˆ | CRUDã€æ‰¹æ¬¡åŒ¯å…¥/åŒ¯å‡ºã€èª¿å‹• |
| **Phase 5** | US3 - æ¬Šé™æ§åˆ¶ | âœ… å®Œæˆ | RBAC æ¬Šé™ç®¡ç† |
| **Phase 6** | US4 - ç­è¡¨åŒæ­¥ | âœ… å®Œæˆ | Google Sheets æ•´åˆ |
| **Phase 7** | US6 - é€£ç·šç›£æ§ | âœ… å®Œæˆ | å¥åº·æª¢æŸ¥èˆ‡ç‹€æ…‹ç›£æ§ |
| **Phase 8** | US7 - Google OAuth | âœ… å®Œæˆ | OAuth 2.0 æˆæ¬Šæ•´åˆ |
| **Phase 9** | US5 - é§•é§›ç«¶è³½ | âœ… å®Œæˆ | æ™‚æ•¸çµ±è¨ˆèˆ‡ç«¶è³½æ’å |
| **Phase 11** | US8 - äº‹ä»¶å±¥æ­· | âœ… å®Œæˆ | å±¥æ­·ç®¡ç†èˆ‡ PDF æ•´åˆ |
| **Phase 12** | US9 - è€ƒæ ¸ç³»çµ± | âœ… å®Œæˆ | 2026 æ–°åˆ¶è€ƒæ ¸ã€R02-R05 é›™å› å­åˆ¤å®š |
| **Phase 13** | US10 - å·®å‹¤åŠ åˆ† | âœ… å®Œæˆ | è‡ªå‹•åˆ†æç­è¡¨èˆ‡åŠ åˆ†è™•ç† |
| **Phase 14** | US11 - æœªçµæ¡ˆç®¡ç† | âœ… å®Œæˆ | æœªçµæ¡ˆè¿½è¹¤èˆ‡ Drive ä¸Šå‚³ |

**æœ€å¾Œæ›´æ–°**: 2026-01-31 | **ç‹€æ…‹**: ğŸ‰ å…¨åŠŸèƒ½é–‹ç™¼å®Œæˆ

---

## ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä½¿ç”¨è€…ï¼ˆç€è¦½å™¨ï¼‰                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTPS                      â”‚ HTTP (localhost)
               â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Pages (å‰ç«¯)          â”‚  â”‚  æœ¬æ©Ÿæ¡Œé¢æ‡‰ç”¨ API             â”‚
â”‚  - Vue.js 3                  â”‚  â”‚  - FastAPI (localhost:8001) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTPS
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Render é›²ç«¯ FastAPI          â”‚  â”‚  Google Services             â”‚
â”‚  - RESTful API               â”‚  â”‚  - Sheets (ç­è¡¨/å‹¤å‹™è¡¨)       â”‚
â”‚  - JWT èªè­‰                   â”‚  â”‚  - Drive (æ–‡ä»¶å„²å­˜)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TiDB Serverless             â”‚
â”‚  - MySQL 8.0 ç›¸å®¹             â”‚
â”‚  - 5GB å…è²»å„²å­˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Python 3.11+
- Node.js 18+
- Git

### å®‰è£æ­¥é©Ÿ

```bash
# 1. Clone å°ˆæ¡ˆ
git clone https://github.com/kunpeto/driver_management_system.git
cd driver_management_system

# 2. å»ºç«‹ Python è™›æ“¬ç’°å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£å¾Œç«¯ä¾è³´
pip install -r requirements.txt

# 4. è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥å¯¦éš›çš„å¯†ç¢¼å’Œæ†‘è­‰

# 5. æ¸¬è©¦ TiDB é€£ç·š
python test_tidb_connection.py

# 6. å•Ÿå‹•å¾Œç«¯é–‹ç™¼ä¼ºæœå™¨
cd backend
uvicorn src.main:app --reload --port 8000

# 7. å®‰è£å‰ç«¯ä¾è³´ï¼ˆå¦é–‹çµ‚ç«¯æ©Ÿï¼‰
cd frontend
npm install
npm run dev
```

### è¨ªå•æœå‹™

| æœå‹™ | URL | èªªæ˜ |
|------|-----|------|
| å‰ç«¯é–‹ç™¼ | http://localhost:5173 | Vite é–‹ç™¼ä¼ºæœå™¨ |
| å¾Œç«¯ API | http://localhost:8000 | FastAPI |
| API æ–‡ä»¶ | http://localhost:8000/docs | Swagger UI |
| å¥åº·æª¢æŸ¥ | http://localhost:8000/health | æœå‹™ç‹€æ…‹ |

---

## å°ˆæ¡ˆçµæ§‹

```
driver_management_system/
â”œâ”€â”€ backend/                    # é›²ç«¯ APIï¼ˆRender éƒ¨ç½²ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ config/            # è¨­å®šæª”
â”‚   â”‚   â”œâ”€â”€ models/            # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/          # æ¥­å‹™é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é–“ä»¶
â”‚   â”‚   â””â”€â”€ main.py            # FastAPI å…¥å£
â”‚   â””â”€â”€ tests/                 # æ¸¬è©¦
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯ï¼ˆGitHub Pages éƒ¨ç½²ï¼‰
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ views/             # é é¢å…ƒä»¶
â”‚       â”œâ”€â”€ components/        # å…±ç”¨å…ƒä»¶
â”‚       â”œâ”€â”€ stores/            # Pinia ç‹€æ…‹ç®¡ç†
â”‚       â””â”€â”€ router/            # Vue Router
â”‚
â”œâ”€â”€ desktop_app/                # æœ¬æ©Ÿ APIï¼ˆæª”æ¡ˆè™•ç†ï¼‰
â”‚   â””â”€â”€ src/
â”‚
â”œâ”€â”€ specs/                      # è¦æ ¼æ–‡ä»¶
â”‚   â””â”€â”€ 001-system-architecture/
â”‚       â”œâ”€â”€ spec.md            # åŠŸèƒ½è¦æ ¼
â”‚       â”œâ”€â”€ plan.md            # å¯¦ä½œè¨ˆç•«
â”‚       â””â”€â”€ tasks.md           # ä»»å‹™åˆ†è§£
â”‚
â”œâ”€â”€ docs/                       # æ–‡ä»¶
â”œâ”€â”€ scripts/                    # è…³æœ¬å·¥å…·
â”œâ”€â”€ render.yaml                 # Render éƒ¨ç½²é…ç½®
â””â”€â”€ requirements.txt            # Python ä¾è³´
```

---

## éƒ¨ç½²

### é›²ç«¯å¾Œç«¯ï¼ˆRenderï¼‰

1. é€£æ¥ GitHub Repository åˆ° Render
2. é¸æ“‡ Blueprint éƒ¨ç½²ï¼ˆè‡ªå‹•è®€å– `render.yaml`ï¼‰
3. åœ¨ Render Dashboard è¨­å®šç’°å¢ƒè®Šæ•¸

### å‰ç«¯ï¼ˆGitHub Pagesï¼‰

```bash
cd frontend
npm run build
# éƒ¨ç½² dist/ åˆ° GitHub Pages
```

---

## é–‹ç™¼é€²åº¦

è©³è¦‹ [PROGRESS.md](./PROGRESS.md)

### ğŸ‰ å…¨åŠŸèƒ½é–‹ç™¼å®Œæˆ

æ‰€æœ‰è¦åŠƒä»»å‹™çš†å·²å®Œæˆï¼Œç³»çµ±å·²å¯ä¸Šç·šä½¿ç”¨ã€‚

#### æ ¸å¿ƒåŠŸèƒ½
- [x] å“¡å·¥ç®¡ç†ï¼ˆCRUDã€æ‰¹æ¬¡åŒ¯å…¥/åŒ¯å‡ºã€èª¿å‹•è¨˜éŒ„ï¼‰
- [x] äº‹ä»¶å±¥æ­·ç®¡ç†ï¼ˆèª¿æŸ¥ã€è¨ªè«‡ã€çŸ¯æ­£ã€è€ƒæ ¸å››ç¨®å­è¡¨ï¼‰
- [x] 2026 æ–°åˆ¶è€ƒæ ¸ç³»çµ±ï¼ˆR02-R05 é›™å› å­åˆ¤å®šã€ç´¯è¨ˆåŠ é‡ï¼‰
- [x] é§•é§›ç«¶è³½ç©åˆ†èˆ‡æ’å
- [x] å·®å‹¤åŠ åˆ†è‡ªå‹•è™•ç†

#### æ•´åˆåŠŸèƒ½
- [x] Google Sheets ç­è¡¨åŒæ­¥
- [x] Google Drive æ–‡ä»¶ä¸Šå‚³
- [x] Google OAuth 2.0 æˆæ¬Š
- [x] æœ¬æ©Ÿæ¡Œé¢æ‡‰ç”¨ PDF è™•ç†

#### ç³»çµ±æ¶æ§‹
- [x] JWT èªè­‰èˆ‡ RBAC æ¬Šé™æ§åˆ¶
- [x] API ç©©å®šæ€§å¥‘ç´„ç®¡ç†
- [x] Render é›²ç«¯éƒ¨ç½²
- [x] TiDB Serverless è³‡æ–™åº«

---

## æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶ | èªªæ˜ |
|------|------|
| [spec.md](./specs/001-system-architecture/spec.md) | å®Œæ•´åŠŸèƒ½è¦æ ¼ |
| [plan.md](./specs/001-system-architecture/plan.md) | å¯¦ä½œè¨ˆç•« |
| [tasks.md](./specs/001-system-architecture/tasks.md) | ä»»å‹™åˆ†è§£ï¼ˆ131 å€‹ä»»å‹™ï¼‰ |
| [constitution.md](./.specify/memory/constitution.md) | å°ˆæ¡ˆæ†²ç«  |
| [data_migration_plan.md](./docs/data_migration_plan.md) | æ­·å²è³‡æ–™é·ç§»è¨ˆç•« |
| [API_CONTRACT.md](./docs/API_CONTRACT.md) | API å¥‘ç´„èˆ‡ç©©å®šæ€§è¦ç¯„ |
| [CHANGELOG_API.md](./docs/CHANGELOG_API.md) | API è®Šæ›´æ—¥èªŒ |
| [PROGRESS.md](./PROGRESS.md) | é–‹ç™¼é€²åº¦è¿½è¹¤ |
| [TODO.md](./TODO.md) | å¾…è¾¦äº‹é … |

---

## æŠ€è¡“æ£§

### å¾Œç«¯
- FastAPI 0.128+
- SQLAlchemy 2.0+
- TiDB (MySQL 8.0)
- APScheduler
- Google API Python Client

### å‰ç«¯
- Vue.js 3.4+
- Vite
- Pinia
- Vue Router
- Axios

### éƒ¨ç½²
- Render (å¾Œç«¯)
- GitHub Pages (å‰ç«¯)
- TiDB Serverless (è³‡æ–™åº«)

---

## æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºæ–°åŒ—æ·é‹è¼•è»Œç‡Ÿé‹è™•è»Šå‹™ä¸­å¿ƒå…§éƒ¨ç³»çµ±ï¼Œåƒ…ä¾›å…§éƒ¨ä½¿ç”¨ã€‚
